<chapter id="advanced">
<title>Utilisation avancée</title>

<sect1 id="command-line">
<title>Options en ligne de commande</title>

<para>
Lorsque vous exécutez &appname; depuis la ligne de commande, il existe plusieurs
options pour ouvrir des fichiers de données. Ces options peuvent être vues en
exécutant <userinput>tellico --help</userinput>.
</para>

<programlisting>
Usage: tellico [Qt-options] [KDE-options] [options] [filename]

Tellico - a collection manager for KDE

Options:
  --nofile                  Do not reopen the last open file
  --bibtex                  Import &lt;filename&gt; as a bibtex file
  --mods                    Import &lt;filename&gt; as a MODS file
  --ris                     Import &lt;filename&gt; as a RIS file

Arguments:
  filename                  File to open
</programlisting>

</sect1>

<sect1 id="dcop-interface">
<title>Interface &DCOP;</title>

<para>
&appname; dispose d'une interface &DCOP; minimale, qui peut être utilisée pour
automatiser l'application ou interagir avec depuis une la ligne de commande.
Co,,e pour tous les appels &DCOP;, vous devez spécifier l'application avec
laquelle vous souhaitez interagir ; ainsi que l'interface spécifique. Les appels
&DCOP; décris dans ce document sont tous disponibles dans l'interface 
<constant>tellico</constant> de &appname; ; alors que le nom de l'application
est <constant>tellico-pid</constant>, où <emphasis>pid</emphasis> est le
<emphasis>process id</emphasis> de l'application.
</para>

<sect2 id="dcop-commands">
<title>Commandes DCOP</title>

<para>
La liste complète des commandes &DCOP; de l'objet <constant>tellico</constant>
est disponible ci-dessous :
</para>

<programlisting>
bool importTellico(QString file, QString action)
bool importBibtex(QString file, QString action)
bool importMODS(QString file, QString action)
bool importRIS(QString file, QString action)
bool exportXML(QString file)
bool exportBibtex(QString file)
bool exportHTML(QString file)
bool exportCSV(QString file)
bool exportPilotDB(QString file)
QStringList bibtexKeys()
</programlisting>

<para>
Pour les quatre commandes d'import, le premier paramètre est le nom du fichier
à importer, et le second l'action lors de l'import. Trois types d'actions sont
disponibles : <emphasis>replace</emphasis> (remplacer),
<emphasis>append</emphasis> (ajouter) et <emphasis>merge</emphasis> (fusioner).
Quatre formats de fichier sont possibles pour l'import : fichier XML Tellico,
BibTeX, MODS et RIS.
</para>

<para>
La collection ouverte dans &appname; peut être exportée vers un fichier, dans
le format XML de Tellico, BibTeX, HTML ou CSV.
</para>

<para>
Enfin, si la collection courante est un bibliographie, appeler
<command>bibtexKeys()</command> donnera comme résultat la clef de citation
BibTeX de toutes les entées sélectionnées.
</para>

</sect2>

<sect2 id="dcop-examples">
<title>Exemples DCOP</title>

<para>
Voici quelques exemples de scripts &appname; utilisant l'interface &DCOP;.
Puisque le <emphasis>pid</emphasis> doit être connu, la façon la plus simple de
l'inclure dans la commande shell suivante :
<userinput>dcop $(dcop | grep tellico) tellico</userinput>.
</para>

<screen width="40">
<emphasis>Ouvrir un fichier BibTeX</emphasis>
<prompt>%</prompt>
<userinput>dcop $(dcop | grep tellico) tellico importBibtex ~/documents/reference.bib replace</userinput>
<computeroutput>true</computeroutput>
</screen>

<screen width="40">
<emphasis>Exporter un fichier BibTeX</emphasis>
<prompt>%</prompt> <userinput>dcop $(dcop | grep tellico) tellico exportBibtex ~/documents/reference.bib</userinput>
<computeroutput>true</computeroutput>
</screen>

<screen width="40">
<emphasis>Afficher la clef de citation de la sélection courante</emphasis>
<prompt>%</prompt> <userinput>dcop $(dcop | grep tellico) tellico bibtexKeys</userinput>
<computeroutput>stephenson2004</computeroutput>
</screen>

</sect2>

</sect1>

</chapter>
